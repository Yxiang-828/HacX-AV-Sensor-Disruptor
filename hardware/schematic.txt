# Dual-Mode AV Disruptor Wiring Diagram (Updated)

## Components
- RPi Zero (or 4)
- IR Laser Diode (1550nm, via driver)
- IR LED Array (850nm)
- mmWave Radar Module (24GHz, e.g., RD-03D or Seeed MR60FDA2) - for motion detection proxy
- SPDT Toggle Switch
- Battery Pack (3.7V, 10000mAh)
- IR Photodiode (BPW34) - for LiDAR pulse detection
- NPN Transistor (2N3904) + 10kΩ Resistor - for photodiode amp

## Connections
1. **Toggle Switch (SPDT)**:
   - Middle pin: RPi GPIO 21
   - One end: RPi 3.3V
   - Other end: RPi GND
   - Note: Enable internal pull-up in code

2. **IR Laser Diode**:
   - Positive: GPIO 18 (via MOSFET driver)
   - Negative: GND
   - Driver: 3.3V control, 5V power from battery
   - Add 1kΩ resistor for safety

3. **IR LED Array**:
   - Positive: GPIO 19 (via MOSFET driver)
   - Negative: GND
   - Power: 5V from battery
   - Add 1kΩ resistor

4. **mmWave Radar Module**:
   - 5V: RPi 5V
   - GND: RPi GND
   - TX: RPi GPIO 15 (RXD)
   - RX: RPi GPIO 14 (TXD)
   - Note: UART interface, 256000 baud

5. **IR Photodiode Circuit**:
   - Photodiode Anode: RPi 3.3V via 10kΩ pull-up
   - Photodiode Cathode: Base of NPN transistor (2N3904)
   - Transistor Collector: RPi GPIO 22
   - Transistor Emitter: GND
   - Note: Active low—pulse pulls GPIO low.

6. **Battery**:
   - Positive: RPi 5V pin (via regulator if needed)
   - Negative: Common GND
   - Add power switch for safety

## MOSFET Driver Circuit (for Laser/LED)
- Use IRLZ44N MOSFET: Gate to GPIO (via 1kΩ), Source to GND, Drain to emitter positive.
- Power: 5V from battery to emitter via Drain.
- Diode: Add 1N4001 across emitter for back-EMF protection.
- Capacitor: 100µF across battery for noise reduction.
- Wiring: GPIO → 1kΩ → MOSFET Gate; Emitter + → MOSFET Drain; Emitter - → GND.

## Notes
- Use heatsink on laser module to prevent overheating.
- Test connections with multimeter before powering on.
- Enclosure: Ensure emitter alignment (15m range needs collimated laser).
- UART enabled via raspi-config for mmWave.